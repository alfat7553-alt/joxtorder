<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joxt Xiterz - Produk & Order</title>
  <link rel="preconnect" href="https://api.whatsapp.com">
  <link rel="preconnect" href="https://static.whatsapp.net">
  <style>
    /* CSS Optimized */
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.2);
    }

    html { 
      scroll-behavior: smooth;
      scroll-padding-top: 80px;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #0a0a0f;
      color: #f8f8fa;
      line-height: 1.7;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      text-align: center;
      padding: 40px 20px 20px;
      background: linear-gradient(135deg,#141429,#0a0a0f);
      box-shadow: 0 0 20px rgba(0,255,150,0.4);
      position: relative;
      animation: fadeIn 0.8s ease-out;
    }
    
    header img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid #00ff99;
      box-shadow: 0 0 20px #00ff99;
      transform: translateZ(0);
    }
    
    header h1 {
      margin: 15px 0 5px;
      font-size: 34px;
      font-weight: 800;
      color: #00ffcc;
      text-shadow: 0 0 15px #00ffcc;
    }
    
    header p {
      color: #bbb;
      font-weight: 600;
    }
    
    .language-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0,255,204,0.2);
      border: 2px solid #00ffcc;
      color: #00ffcc;
      font-weight: 700;
      padding: 8px 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      animation: pulse 2s infinite;
      transform: translateZ(0);
      will-change: transform, box-shadow;
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.3);
    }
    
    .language-toggle:hover {
      background: #00ffcc;
      color: #0a0a0f;
      box-shadow: 0 0 15px #00ffcc;
      transform: scale(1.05);
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 5px #00ffcc; }
      50% { box-shadow: 0 0 15px #00ffcc; }
      100% { box-shadow: 0 0 5px #00ffcc; }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    nav {
      background: rgba(10,10,15,0.8);
      backdrop-filter: blur(8px);
      padding: 12px 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 0 15px rgba(0,255,200,0.4);
      animation: slideDown 0.5s ease-out;
    }
    
    @keyframes slideDown {
      from { transform: translateY(-100%); }
      to { transform: translateY(0); }
    }
    
    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .logo {
      font-weight: 800;
      font-size: 18px;
      color: #00ffcc;
    }
    
    .burger {
      display: none;
      font-size: 24px;
      background: none;
      border: none;
      color: #eee;
      cursor: pointer;
      transition: transform 0.3s ease;
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.3);
    }
    
    .burger.active {
      transform: rotate(90deg);
    }
    
    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 20px;
    }
    
    nav li { position: relative; }
    
    nav a {
      color: #eee;
      text-decoration: none;
      font-weight: 700;
      font-size: 14px;
      padding: 6px 4px;
      transition: color .2s, transform .2s;
      transform: translateZ(0);
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.2);
    }
    
    nav a:hover {
      color: #00ffcc;
      text-shadow: 0 0 8px #00ffcc;
      transform: translateY(-2px);
    }
    
    @media (max-width: 768px) {
      .burger {
        display: block;
      }
      
      nav ul {
        flex-direction: column;
        align-items: center;
        background: rgba(20,20,30,0.95);
        position: absolute;
        top: 60px;
        right: 0;
        left: 0;
        max-height: 0;
        overflow: hidden;
        padding: 0;
        gap: 12px;
        box-shadow: 0 4px 20px rgba(0,255,200,0.2);
        transition: max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), padding 0.4s ease;
      }
      
      nav ul.active {
        max-height: 300px;
        padding: 15px 0;
      }
      
      .language-toggle {
        top: 10px;
        right: 10px;
        padding: 6px 12px;
        font-size: 12px;
      }
    }
    
    section {
      padding: 30px 15px;
      max-width: 800px;
      margin: auto;
      animation: fadeInUp 0.6s ease-out;
    }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    h2 {
      font-size: 22px;
      margin-bottom: 15px;
      color: #a855f7;
      border-bottom: 2px solid #333;
      display: inline-block;
      padding-bottom: 5px;
      font-weight: 800;
      text-shadow: 0 0 10px #a855f7;
    }
    
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
      gap: 15px;
    }
    
    .product {
      display: block;
      background: rgba(20,20,30,0.9);
      padding: 18px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 0 20px rgba(168,85,247,0.4);
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      font-weight: 700;
      color: #f8f8fa;
      text-decoration: none;
      transform: translateZ(0);
      will-change: transform, box-shadow;
      position: relative;
      overflow: hidden;
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.2);
    }
    
    .product::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(0, 255, 204, 0.1);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    .product:hover { 
      transform: translateY(-6px) scale(1.02); 
      box-shadow: 0 0 25px rgba(0,255,200,0.7);
      color: #00ffcc;
    }
    
    .product:active {
      transform: translateY(-2px) scale(0.98);
      transition: transform 0.1s;
      background: rgba(20,20,30,0.95);
    }
    
    .product:hover::before {
      width: 300px;
      height: 300px;
    }
    
    .price {
      font-weight: 800;
      color: #00ffcc;
      font-size: 16px;
      text-shadow: 0 0 6px #00ffcc;
      margin-top: 8px;
      position: relative;
      z-index: 1;
    }
    
    .note,.payment,.testimoni,.order {
      background: rgba(20,20,30,0.9);
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,255,150,0.4);
      margin-top: 15px;
      font-weight: 600;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .note li::before { content:"üéÆ "; }
    .payment li::before { content:"üí∞ "; }
    ul { list-style:none; padding:0; margin:0; }
    li { margin-bottom: 8px; padding: 5px 0; }
    .payment-note { margin-top: 10px; font-size: 14px; color: #bbb; }
    
    .btn-order {
      display:inline-block;
      margin-top:15px;
      padding:12px 24px;
      background:#00ff99;
      color:#0a0a0f;
      text-decoration:none;
      border-radius:10px;
      font-weight:800;
      font-size:16px;
      box-shadow:0 0 15px #00ff99;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
      overflow: hidden;
      transform: translateZ(0);
      will-change: transform, box-shadow;
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.3);
    }
    
    .btn-order:hover { 
      background:#00e68a; 
      transform: scale(1.05);
      box-shadow:0 0 25px #00ffcc;
    }
    
    .btn-order:active {
      transform: scale(0.98);
      transition: transform 0.1s;
      background: #00cc7a;
    }
    
    .btn-order::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 5px;
      height: 5px;
      background: rgba(255, 255, 255, 0.5);
      opacity: 0;
      border-radius: 100%;
      transform: scale(1, 1) translate(-50%);
      transform-origin: 50% 50%;
    }
    
    .btn-order:focus:not(:active)::after {
      animation: ripple 1s ease-out;
    }
    
    @keyframes ripple {
      0% {
        transform: scale(0, 0);
        opacity: 0.5;
      }
      20% {
        transform: scale(25, 25);
        opacity: 0.3;
      }
      100% {
        opacity: 0;
        transform: scale(40, 40);
      }
    }
    
    footer {
      text-align: center;
      padding: 25px 15px;
      background: #111;
      margin-top: 30px;
      font-size: 14px;
      color: #bbb;
      box-shadow: 0 0 10px rgba(0,255,150,0.3);
      animation: fadeIn 0.8s ease-out;
    }
    
    #exchange-rate { margin-top: 10px; font-size: 12px; }
    
    #testimoni a {
      color: #00ffcc;
      text-decoration: none;
      font-weight: 700;
      display: inline-block;
      padding: 8px 16px;
      background: rgba(0,255,204,0.1);
      border-radius: 8px;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      transform: translateZ(0);
      -webkit-tap-highlight-color: rgba(0, 255, 204, 0.2);
    }
    
    #testimoni a:hover {
      background: rgba(0,255,204,0.2);
      box-shadow: 0 0 12px rgba(0,255,204,0.4);
      transform: translateY(-2px);
    }
    
    /* WhatsApp Link Optimizations */
    a[href*="whatsapp"] {
      transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
    }
    
    a[href*="whatsapp"]:active {
      transform: scale(0.95);
    }
    
    /* Touch device optimizations */
    @media (hover: none) and (pointer: coarse) {
      .product:active,
      .btn-order:active,
      .language-toggle:active,
      nav a:active,
      a[href*="whatsapp"]:active {
        color: inherit !important;
        background: inherit !important;
        -webkit-tap-highlight-color: rgba(0, 255, 204, 0.3) !important;
      }
      
      .product:active,
      .btn-order:active,
      a[href*="whatsapp"]:active {
        transform: scale(0.97) !important;
        transition: transform 0.1s !important;
      }
      
      .language-toggle:active {
        transform: scale(0.95) !important;
      }
    }
    
    /* Performance optimizations */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
    
    /* Better focus styles for accessibility */
    a:focus,
    button:focus {
      outline: 2px solid #00ffcc;
      outline-offset: 2px;
    }
    
    @media (max-width: 768px) {
      section {
        padding: 25px 12px;
      }
      .note,.payment,.testimoni,.order {
        padding: 18px 12px;
        margin: 15px 10px;
      }
      .product {
        padding: 15px;
      }
      h2 {
        font-size: 20px;
      }
      
      /* Mobile-specific optimizations */
      .product:hover {
        transform: translateY(-4px);
      }
    }
    
    /* Loading state styles */
    .loading {
      opacity: 0.7;
      pointer-events: none;
    }
    
    /* FIX TOTAL: GARIS KOTAK DI SUDUT + SAAT CLICK */
.product {
  border-radius: 12px;
  background-clip: padding-box;
  outline: 1px solid transparent;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-tap-highlight-color: transparent; /* anti tap highlight Android */
}

.product::before {
  border-radius: inherit;
  pointer-events: none;
}

.product:active {
  outline: none !important;
  box-shadow: 0 0 20px rgba(168,85,247,0.4) !important;
}
  </style>
</head>
<body>
  <header>
    <img src="logo.jpg" alt="Joxt Xiterz Logo" width="120" height="120" loading="eager">
    <h1 data-lang="header-title">üïπÔ∏è Joxt Xiterz</h1>
    <p data-lang="header-desc">üéÆ List Produk Terbaik - Android & iOS</p>
    <button class="language-toggle" id="lang-toggle">üáÆüá© ID</button>
  </header>

  <!-- Navbar -->
  <nav>
    <div class="nav-container">
      <div class="logo">üïπÔ∏è Joxt Xiterz</div>
      <button class="burger" id="burger">‚ò∞</button>
      <ul id="nav-links">
        <li><a href="#android" data-lang="nav-android">üì± Produk Android</a></li>
        <li><a href="#ios" data-lang="nav-ios">üçè Produk iOS</a></li>
        <li><a href="#note" data-lang="nav-note">üìù Catatan</a></li>
        <li><a href="#payment" data-lang="nav-payment">üí≥ Payment</a></li>
        <li><a href="#order" data-lang="nav-order">üì© Order</a></li>
        <li><a href="#testimoni" data-lang="nav-testimoni">üí¨ Testimoni</a></li>
      </ul>
    </div>
  </nav>

  <section id="android">
    <h2 data-lang="android-title">üì± Produk Android Terpopuler</h2>
    <div class="product-list">
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Drag%20HS" data-lang="product-drag-hs" target="_blank" class="product" data-wa-link="true">üéØ <h3>Drag HS</h3><p class="price" data-price="15000">Rp 15.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20All%20Tap" data-lang="product-all-tap" target="_blank" class="product" data-wa-link="true">‚ö° <h3>All Tap</h3><p class="price" data-price="25000">Rp 25.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Badan%20HS" data-lang="product-badan-hs" target="_blank" class="product" data-wa-link="true">üí• <h3>Badan HS</h3><p class="price" data-price="35000">Rp 35.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Panel%20Joxt" data-lang="product-panel-joxt" target="_blank" class="product" data-wa-link="true">üõ°Ô∏è <h3>Panel Joxt</h3><p class="price" data-price="50000">Rp 50.000</p></a>
    </div>
  </section>

  <section id="ios">
    <h2 data-lang="ios-title">üçè Produk iPhone / iOS Terbaik</h2>
    <div class="product-list">
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Aim%20Neck" data-lang="product-aim-neck" target="_blank" class="product" data-wa-link="true">üéØ <h3>Aim Neck</h3><p class="price" data-price="35000">Rp 35.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20All%20Tap%20iOS" data-lang="product-all-tap-ios" target="_blank" class="product" data-wa-link="true">‚ö° <h3>All Tap</h3><p class="price" data-price="25000">Rp 25.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Badan%20HS" data-lang="product-badan-hs-ios" target="_blank" class="product" data-wa-link="true">üí• <h3>Badan HS</h3><p class="price" data-price="50000">Rp 50.000</p></a>
      <a href="https://wa.me/+6288286464154?text=Saya%20mau%20beli%20Panel%20iOS" data-lang="product-panel-ios" target="_blank" class="product" data-wa-link="true">üõ°Ô∏è <h3>Panel iOS</h3><p class="price" data-price="70000">Rp 70.000</p></a>
    </div>
  </section>

  <section class="note" id="note">
    <h2 data-lang="note-title">üìù Catatan</h2>
    <ul>
      <li data-lang="note-1">File Anti Metadata</li>
      <li data-lang="note-2">Work FF Max Original</li>
      <li data-lang="note-3">Support Android/iOS</li>
      <li data-lang="note-4">Permanen Tanpa Trick</li>
      <li data-lang="note-5">Testimoni bisa dicek</li>
    </ul>
  </section>

  <section class="payment" id="payment">
    <h2 data-lang="payment-title">üí≥ Payment</h2>
    <ul id="payment-methods">
      <li>GOPAY</li>
      <li>DANA</li>
      <li>OVO</li>
      <li>QRIS</li>
    </ul>
    <p id="payment-note" data-lang="payment-note"></p>
  </section>

  <section class="order" id="order">
    <h2 data-lang="order-title">üì© Order</h2>
    <a href="https://wa.me/+6288286464154" target="_blank" class="btn-order" data-lang="order-button" data-wa-link="true">üí¨ Chat via WhatsApp</a>
  </section>

  <section class="testimoni" id="testimoni">
    <h2 data-lang="testimoni-title">üí¨ Testimoni</h2>
    <p><a href="https://whatsapp.com/channel/0029Vb7MsfwI1rcrPCuosn3b" target="_blank" data-lang="testimoni-link" data-wa-link="true">üì¢ Klik di sini untuk cek testimoni</a></p>
  </section>

  <footer>
    ¬© 2025 Joxt Xiterz | All Rights Reserved
    <p id="exchange-rate" data-lang="exchange-rate"></p>
  </footer>

  <script>
    // Data terjemahan untuk Indonesia dan Inggris
    const translations = {
      id: {
        'header-title': 'üïπÔ∏è Joxt Xiterz',
        'header-desc': 'üéÆ List Produk Terbaik - Android & iOS',
        'nav-android': 'üì± Produk Android',
        'nav-ios': 'üçè Produk iOS',
        'nav-note': 'üìù Catatan',
        'nav-payment': 'üí≥ Payment',
        'nav-order': 'üì© Order',
        'nav-testimoni': 'üí¨ Testimoni',
        'android-title': 'üì± Produk Android Terpopuler',
        'ios-title': 'üçè Produk iPhone / iOS Terbaik',
        'note-title': 'üìù Catatan',
        'note-1': 'File Anti Metadata',
        'note-2': 'Work FF Max Original',
        'note-3': 'Support Android/iOS',
        'note-4': 'Permanen Tanpa Trick',
        'note-5': 'Testimoni bisa dicek',
        'payment-title': 'üí≥ Payment',
        'payment-note': '',
        'order-title': 'üì© Order',
        'order-button': 'üí¨ Chat via WhatsApp',
        'testimoni-title': 'üí¨ Testimoni',
        'testimoni-link': 'üì¢ Klik di sini untuk cek testimoni',
        'exchange-rate': '',
        'product-drag-hs': { text: 'Saya mau beli Drag HS', name: 'Drag HS' },
        'product-all-tap': { text: 'Saya mau beli All Tap', name: 'All Tap' },
        'product-all-tap-ios': { text: 'Saya mau beli All Tap iOS', name: 'All Tap' },
        'product-badan-hs': { text: 'Saya mau beli Badan HS', name: 'Badan HS' },
        'product-badan-hs-ios': { text: 'Saya mau beli Badan HS', name: 'Badan HS' },
        'product-panel-joxt': { text: 'Saya mau beli Panel Joxt', name: 'Panel Joxt' },
        'product-aim-neck': { text: 'Saya mau beli Aim Neck', name: 'Aim Neck' },
        'product-panel-ios': { text: 'Saya mau beli Panel iOS', name: 'Panel iOS' }
      },
      en: {
        'header-title': 'üïπÔ∏è Joxt Xiterz',
        'header-desc': 'üéÆ Best Product List - Android & iOS',
        'nav-android': 'üì± Android Products',
        'nav-ios': 'üçè iOS Products',
        'nav-note': 'üìù Notes',
        'nav-payment': 'üí≥ Payment',
        'nav-order': 'üì© Order',
        'nav-testimoni': 'üí¨ Testimonials',
        'android-title': 'üì± Top Android Products',
        'ios-title': 'üçè Best iPhone / iOS Products',
        'note-title': 'üìù Notes',
        'note-1': 'Anti-Metadata File',
        'note-2': 'Works with FF Max Original',
        'note-3': 'Supports Android/iOS',
        'note-4': 'Permanent, No Tricks',
        'note-5': 'Testimonials Available',
        'payment-title': 'üí≥ Payment',
        'payment-note': 'For Crypto payments, contact us via WhatsApp to get the wallet address (USDT/BTC accepted).',
        'order-title': 'üì© Order',
        'order-button': 'üí¨ Chat via WhatsApp',
        'testimoni-title': 'üí¨ Testimonials',
        'testimoni-link': 'üì¢ Click here to view testimonials',
        'exchange-rate': 'Exchange Rate: 1 USD = Rp {rate}',
        'product-drag-hs': { text: 'I want to buy Drag HS', name: 'Drag HS' },
        'product-all-tap': { text: 'I want to buy All Tap', name: 'All Tap' },
        'product-all-tap-ios': { text: 'I want to buy All Tap iOS', name: 'All Tap' },
        'product-badan-hs': { text: 'I want to buy Body HS', name: 'Body HS' },
        'product-badan-hs-ios': { text: 'I want to buy Body HS', name: 'Body HS' },
        'product-panel-joxt': { text: 'I want to buy Panel Joxt', name: 'Panel Joxt' },
        'product-aim-neck': { text: 'I want to buy Aim Neck', name: 'Aim Neck' },
        'product-panel-ios': { text: 'I want to buy Panel iOS', name: 'Panel iOS' }
      }
    };

    // Daftar metode pembayaran
    const paymentMethods = {
      id: [
        '<li>GOPAY</li>',
        '<li>DANA</li>',
        '<li>OVO</li>',
        '<li>QRIS</li>'
      ],
      en: [
        '<li>PayPal</li>',
        '<li>Binance</li>'
      ]
    };

    let currentExchangeRate = 15500;

    // Fungsi untuk fetch kurs real-time
    async function fetchExchangeRate() {
      try {
        const response = await fetch('https://open.er-api.com/v6/latest/USD');
        const data = await response.json();
        if (data.result === 'success') {
          currentExchangeRate = data.rates.IDR;
          console.log('Kurs real-time: 1 USD = Rp ' + currentExchangeRate);
        }
      } catch (error) {
        console.log('Error fetch kurs: ' + error + '. Gunakan fallback.');
      }
    }

    // Fungsi untuk format harga
    function formatPrice(price, lang) {
      if (lang === 'en') {
        const usdPrice = (price / currentExchangeRate).toFixed(2);
        return `$${usdPrice}`;
      }
      return `Rp ${price.toLocaleString('id-ID')}`;
    }

    // Optimasi WhatsApp Links
    function enhanceWhatsAppLinks() {
      const waLinks = document.querySelectorAll('[data-wa-link]');
      
      waLinks.forEach(link => {
        // Tambahkan prefetch untuk WhatsApp
        link.addEventListener('mouseenter', function() {
          const prefetchLink = document.createElement('link');
          prefetchLink.rel = 'prefetch';
          prefetchLink.href = this.href;
          document.head.appendChild(prefetchLink);
        }, { once: true });
        
        // Smooth click effect
        link.addEventListener('click', function(e) {
          // Beri feedback visual
          this.style.transform = 'scale(0.95)';
          this.style.transition = 'transform 0.1s';
          
          // Reset setelah 100ms
          setTimeout(() => {
            this.style.transform = '';
          }, 100);
          
          // Log klik untuk analytics
          const productName = this.querySelector('h3')?.textContent || 'General';
          console.log('WhatsApp link clicked: ' + productName);
        });
      });
    }

    // Fungsi baru untuk scroll ke target
    function scrollToTarget(targetElement) {
      const headerOffset = 80;
      const elementPosition = targetElement.getBoundingClientRect().top;
      const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
      
      window.scrollTo({
        top: offsetPosition,
        behavior: 'smooth'
      });
    }

    // Smooth navigation dengan prevent flash
    function setupSmoothNavigation() {
      const navLinks = document.querySelectorAll('#nav-links a[href^="#"]');
      
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const href = this.getAttribute('href');
          if (href === '#') return;
          
          const targetId = href.substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            // Tutup menu mobile jika terbuka
            const navMenu = document.getElementById('nav-links');
            const burger = document.getElementById('burger');
            const isMenuActive = navMenu.classList.contains('active');
            
            if (isMenuActive) {
              navMenu.classList.remove('active');
              burger.classList.remove('active');
              // Tunggu transisi menu selesai baru scroll
              setTimeout(() => {
                requestAnimationFrame(() => {
                  scrollToTarget(targetElement);
                });
              }, 400);
            } else {
              requestAnimationFrame(() => {
                scrollToTarget(targetElement);
              });
            }
          }
        });
      });
    }

    // Fungsi untuk mengganti bahasa
    async function setLanguage(lang) {
      // Fetch kurs baru jika bahasa Inggris
      if (lang === 'en') {
        await fetchExchangeRate();
      }

      document.querySelectorAll('[data-lang]').forEach(element => {
        const key = element.getAttribute('data-lang');
        if (key.startsWith('product-')) {
          const phoneNumber = '+6288286464154';
          const encodedText = encodeURIComponent(translations[lang][key].text);
          element.setAttribute('href', `https://wa.me/${phoneNumber}?text=${encodedText}`);
          const h3Element = element.querySelector('h3');
          if (h3Element) {
            h3Element.textContent = translations[lang][key].name;
          }
        } else {
          element.textContent = key === 'exchange-rate' ? 
            translations[lang][key].replace('{rate}', currentExchangeRate.toLocaleString('id-ID')) : 
            translations[lang][key];
        }
      });
      
      // Update harga
      document.querySelectorAll('.price').forEach(element => {
        const price = parseFloat(element.getAttribute('data-price'));
        element.textContent = formatPrice(price, lang);
      });
      
      // Update metode pembayaran
      document.getElementById('payment-methods').innerHTML = paymentMethods[lang].join('');
      document.querySelector('html').setAttribute('lang', lang);
      document.getElementById('lang-toggle').innerHTML = lang === 'id' ? 'üåê EN' : 'üáÆüá© ID';
      localStorage.setItem('language', lang);
    }

    // Inisialisasi saat DOM siap
    document.addEventListener('DOMContentLoaded', function() {
      // Inisialisasi bahasa
      const savedLang = localStorage.getItem('language') || 'id';
      setLanguage(savedLang);
      
      // Setup WhatsApp links
      enhanceWhatsAppLinks();
      
      // Setup smooth navigation
      setupSmoothNavigation();
      
      // Burger menu functionality
      const burger = document.getElementById('burger');
      const navLinks = document.getElementById('nav-links');
      
      burger.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        burger.classList.toggle('active');
      });
      
      // Event listener untuk toggle bahasa
      const langToggle = document.getElementById('lang-toggle');
      langToggle.addEventListener('click', () => {
        const currentLang = localStorage.getItem('language') || 'id';
        const newLang = currentLang === 'id' ? 'en' : 'id';
        setLanguage(newLang);
        
        // Feedback visual
        langToggle.style.transform = 'scale(0.95)';
        setTimeout(() => {
          langToggle.style.transform = '';
        }, 150);
      });
      
      // Optimasi scroll untuk navbar
      window.addEventListener('scroll', () => {
        const nav = document.querySelector('nav');
        if (window.pageYOffset > 50) {
          nav.style.boxShadow = '0 0 20px rgba(0,255,200,0.6)';
        } else {
          nav.style.boxShadow = '0 0 15px rgba(0,255,200,0.4)';
        }
      });
      
      // Preload WhatsApp untuk performa lebih baik
      setTimeout(() => {
        const waPreload = document.createElement('link');
        waPreload.rel = 'preconnect';
        waPreload.href = 'https://web.whatsapp.com';
        document.head.appendChild(waPreload);
      }, 1000);
    });

    // Debounce untuk resize event
    let resizeTimer;
    window.addEventListener('resize', () => {
      document.body.classList.add('resize-animation-stopper');
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        document.body.classList.remove('resize-animation-stopper');
      }, 400);
    });

    // Tambahkan style untuk resize animation stopper
    const resizeStyle = document.createElement('style');
    resizeStyle.textContent = `
      .resize-animation-stopper * {
        animation: none !important;
        transition: none !important;
      }
    `;
    document.head.appendChild(resizeStyle);
  </script>
</body>
</html>
